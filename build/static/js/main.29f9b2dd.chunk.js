(this["webpackJsonptx-path-analyzer"]=this["webpackJsonptx-path-analyzer"]||[]).push([[0],{104:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),s=(a(104),a(105),a(12)),o=a(6),i=a.n(o),u=a(35),m=a(21),d=a(215),h=a(211),p=a(98),g=a(213),E=a(214),b=a(11),f=a(65),O=a(210),v=a(212);function y(e){var t=e.open,a=e.toggle,n=e.children;return r.a.createElement(v.a,{show:t,onHide:a,animation:!1},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"Opps!! Error...")),r.a.createElement(v.a.Body,null,n),r.a.createElement(v.a.Footer,null,r.a.createElement(E.a,{variant:"danger",onClick:a},"Ok")))}function j(e){var t=e.open,a=e.toggle,n=e.children;return r.a.createElement(v.a,{show:t,onHide:a,animation:!1},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"Notification")),r.a.createElement(v.a.Body,null,n),r.a.createElement(v.a.Footer,null,r.a.createElement(E.a,{variant:"success",onClick:a},"Ok")))}function k(e){var t=e.txPaths,a=e.networkId,c=e.account,l=Object(n.useState)({msg:"",open:!1}),o=Object(m.a)(l,2),h=o[0],p=o[1],g=Object(n.useState)({msg:"",open:!1}),f=Object(m.a)(g,2),v=f[0],k=f[1],x=function(){var e=Object(u.a)(i.a.mark((function e(a,n,r){var c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t[a],e.prev=1,e.next=4,r.sendTransaction({from:c.transactions[0].from,to:c.transactions[0].to,data:c.transactions[0].data});case 4:return l=e.sent,e.next=7,n.waitForTransaction(l.hash);case 7:k({open:!0,msg:"Congratulations !! Your transaction request succesfully completed !!"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),p({open:!0,msg:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.ethereum,e.next=3,n.enable();case 3:return r=new b.ethers.providers.Web3Provider(n),l=r.getSigner(),e.t0=a,e.next=8,l.getChainId();case 8:if(e.t1=e.sent,e.t0===e.t1){e.next=13;break}p({open:!0,msg:"Incorrect network choosen !! Please choose correct network."}),e.next=24;break;case 13:return e.next=15,b.ethers.utils.getAddress(c);case 15:return e.t2=e.sent,e.next=18,l.getAddress();case 18:if(e.t3=e.sent,e.t2===e.t3){e.next=23;break}p({open:!0,msg:"Incorrect signer choosen !! Please choose "+c}),e.next=24;break;case 23:x(t,r,l);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{width:"100%"}},t.map((function(e,a){return r.a.createElement("div",null,t.length>1?r.a.createElement("p",{style:{fontSize:"1.5rem"}},r.a.createElement("u",null,"Path ",a)):null,r.a.createElement(O.a,{key:a,style:{paddingBottom:"1%"}},e.transactions.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{key:a},r.a.createElement(d.a.Header,null,a+1),r.a.createElement(d.a.Body,null,r.a.createElement("p",{style:{fontWeight:"bold"}},t.to),t.description)),a!==e.transactions.length-1?r.a.createElement("span",{className:"right-arrow"},"\u2192"):null)}))),r.a.createElement(E.a,{onClick:function(){return A(a)},variant:"outline-success",size:"sm",style:{marginBottom:"2%"}},"Choose & Send"))})),r.a.createElement(y,{open:h.open,toggle:function(){return p(Object(s.a)(Object(s.a)({},h),{},{open:!1}))}},h.msg),r.a.createElement(j,{open:v.open,toggle:function(){return k(Object(s.a)(Object(s.a)({},v),{},{open:!1}))}},v.msg))}function x(){var e=Object(n.useState)({msg:"",open:!1}),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({ensAddress:"",accountAddress:"",amount:"",message:""}),o=Object(m.a)(l,2),O=o[0],v=o[1],j=Object(n.useState)([]),x=Object(m.a)(j,2),A=x[0],w=x[1],C=Object(n.useState)(!1),S=Object(m.a)(C,2),P=S[0],N=S[1],I=Object(n.useState)(!0),B=Object(m.a)(I,2),z=B[0],H=B[1],T=Object(n.useState)({all:!0,shortest:!1,longest:!1}),F=Object(m.a)(T,2),q=F[0],L=F[1],M=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N(!0),z){e.next=8;break}return e.next=5,Object(f.connect)(O.ensAddress,"thegraph");case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Object(f.connect)(O.ensAddress,"thegraph",{chainId:4});case 10:t=e.sent;case 11:return e.next=13,t.app("finance");case 13:return a=e.sent,n=t.appIntent(a.address,"newImmediatePayment",[b.ethers.constants.AddressZero,O.accountAddress,b.ethers.utils.parseEther(O.amount),O.message]),e.next=17,n.paths(O.accountAddress);case 17:r=e.sent,w(r),N(!1),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),N(!1),c({open:!0,msg:e.t0.message});case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(d.a,{className:"mx-auto form-card "},r.a.createElement(d.a.Header,{style:{fontSize:"2rem"}},"PATH VISUALIZER"),r.a.createElement(d.a.Body,{style:{textAlign:"left"}},r.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold"}},r.a.createElement("u",null,"Transaction Path Visualizer for New Immediate Payment")),r.a.createElement(h.a,null,r.a.createElement(p.a,null,r.a.createElement("div",{key:"inline-radio",className:"mb-3"},r.a.createElement(g.a.Check,{inline:!0,label:"Rinkeby",type:"radio",id:"inline-radio-1",checked:z,onChange:function(){return H(!0)}}),r.a.createElement(g.a.Check,{inline:!0,label:"Mainnet",type:"radio",id:"inline-radio-2",checked:!z,onChange:function(){return H(!1)}})))),r.a.createElement(h.a,null,r.a.createElement(p.a,null,r.a.createElement(g.a.Control,{className:"mb-4",type:"text",placeholder:"Organization ENS Address (eg: myorg.aragonid.eth)",onChange:function(e){return v(Object(s.a)(Object(s.a)({},O),{},{ensAddress:e.target.value}))},value:O.ensAddress,required:!0}))),r.a.createElement(h.a,null,r.a.createElement(p.a,null,r.a.createElement(g.a.Control,{className:"mb-4",type:"email",placeholder:"Ethereum address of signer",onChange:function(e){return v(Object(s.a)(Object(s.a)({},O),{},{accountAddress:e.target.value}))},value:O.accountAddress,required:!0}))),r.a.createElement(h.a,null,r.a.createElement(p.a,null,r.a.createElement(g.a.Control,{className:"mb-4",type:"number",placeholder:"Amount (eg: 1)",onChange:function(e){return v(Object(s.a)(Object(s.a)({},O),{},{amount:e.target.value}))},value:O.amount,required:!0}))),r.a.createElement(h.a,null,r.a.createElement(p.a,null,r.a.createElement(g.a.Control,{className:"mb-4",type:"text",placeholder:"Description Message",onChange:function(e){return v(Object(s.a)(Object(s.a)({},O),{},{message:e.target.value}))},value:O.message,required:!0})))),r.a.createElement(d.a.Footer,{className:"text-center"},r.a.createElement(E.a,{onClick:function(){42!==O.accountAddress.length?c({open:!0,msg:"Please enter valid account address !!"}):O.ensAddress?M():c({open:!0,msg:"All fields are mandatory !!"})},variant:"outline-success"},"Get Paths"))),r.a.createElement(d.a,{className:"mx-auto path-card"},r.a.createElement(d.a.Header,{style:{fontSize:"1.5rem"}},"Transaction Path"),r.a.createElement(d.a.Body,null,P?r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("div",null,A.length>0?r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"right",marginBottom:"1%"},key:"tx-radio"},r.a.createElement("span",{style:{fontSize:"1.1rem"}},"Show Path: "),r.a.createElement(g.a.Check,{inline:!0,label:"All",type:"radio",id:"inline-radio-3",checked:q.all,onChange:function(){L(Object(s.a)(Object(s.a)({},q),{},{all:!0,shortest:!1,longest:!1}))}}),r.a.createElement(g.a.Check,{inline:!0,label:"Shortest",type:"radio",id:"inline-radio-4",checked:q.shortest,onChange:function(){L(Object(s.a)(Object(s.a)({},q),{},{all:!1,shortest:!0,longest:!1}))}}),r.a.createElement(g.a.Check,{inline:!0,label:"Longest",type:"radio",id:"inline-radio-5",checked:q.longest,onChange:function(){L(Object(s.a)(Object(s.a)({},q),{},{all:!1,shortest:!1,longest:!0}))}})),q.all?r.a.createElement(k,{txPaths:A,networkId:z?4:1,account:O.accountAddress}):q.shortest?r.a.createElement(k,{txPaths:[A[0]],networkId:z?4:1,account:O.accountAddress}):r.a.createElement(k,{txPaths:[A[A.length-1]],networkId:z?4:1,account:O.accountAddress})):null)),r.a.createElement(d.a.Footer,null,r.a.createElement(E.a,{variant:"warning",onClick:function(){w([])}},"CLEAR"))),r.a.createElement(y,{open:a.open,toggle:function(){return c(Object(s.a)(Object(s.a)({},a),{},{open:!1}))}},a.msg))}var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root"))},99:function(e,t,a){e.exports=a(207)}},[[99,1,2]]]);
//# sourceMappingURL=main.29f9b2dd.chunk.js.map